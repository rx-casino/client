<script>
	import { isLiveStat } from '$lib/store/activities.js';
  import { screen } from "$lib/store/screen";
  import CrashInfoDialog from "./dialogs/GameInfoDialog.svelte";
  import LiveStats from "./dialogs/LiveStats.svelte";
  $: dialogData = null;
  $: showingStats = false;
</script>



<div class="game-actions">
  {#if $screen > 660}
    <button on:click={() => {
        dialogData = {
          startScreen: "Hot keys"
        }
      }}
      class="action-item">
      <svg xmlns="http://www.w3.org/2000/svg" class="sc-gsDKAQ hxODWG icon" viewBox="0 0 350 244.34"><defs></defs><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path class="cls-1" d="M307.08,0H42.92A42.93,42.93,0,0,0,0,42.92v158.5a42.93,42.93,0,0,0,42.92,42.92H307.08A42.93,42.93,0,0,0,350,201.42V42.92A42.93,42.93,0,0,0,307.08,0ZM135.38,34.51a8.92,8.92,0,0,1,8.92-8.93h61.4a8.92,8.92,0,0,1,8.92,8.93V52.29a8.92,8.92,0,0,1-8.92,8.93H144.3a8.92,8.92,0,0,1-8.92-8.93Zm0,52.56a8.92,8.92,0,0,1,8.92-8.93h61.4a8.92,8.92,0,0,1,8.92,8.93v17.78a8.92,8.92,0,0,1-8.92,8.93H144.3a8.92,8.92,0,0,1-8.92-8.93Zm0,52.56a8.92,8.92,0,0,1,8.92-8.93h61.4a8.92,8.92,0,0,1,8.92,8.93v17.78a8.92,8.92,0,0,1-8.92,8.93H144.3a8.92,8.92,0,0,1-8.92-8.93ZM29,34.51a8.93,8.93,0,0,1,8.93-8.93H99.3a8.93,8.93,0,0,1,8.93,8.93V52.29a8.93,8.93,0,0,1-8.93,8.93H37.91A8.93,8.93,0,0,1,29,52.29Zm0,52.56a8.93,8.93,0,0,1,8.93-8.93H99.3a8.93,8.93,0,0,1,8.93,8.93v17.78a8.93,8.93,0,0,1-8.93,8.93H37.91A8.93,8.93,0,0,1,29,104.85Zm0,52.56a8.93,8.93,0,0,1,8.93-8.93H99.3a8.93,8.93,0,0,1,8.93,8.93v17.78a8.93,8.93,0,0,1-8.93,8.93H37.91A8.93,8.93,0,0,1,29,157.41ZM321,210a8.93,8.93,0,0,1-8.93,8.93H37.91A8.93,8.93,0,0,1,29,210V192.19a8.93,8.93,0,0,1,8.93-8.93H312.09a8.93,8.93,0,0,1,8.93,8.93Zm0-52.56a8.93,8.93,0,0,1-8.93,8.93H250.7a8.93,8.93,0,0,1-8.93-8.93V139.63a8.93,8.93,0,0,1,8.93-8.93h61.39a8.93,8.93,0,0,1,8.93,8.93Zm0-52.56a8.93,8.93,0,0,1-8.93,8.93H250.7a8.93,8.93,0,0,1-8.93-8.93V87.07a8.93,8.93,0,0,1,8.93-8.93h61.39A8.93,8.93,0,0,1,321,87.07Zm0-52.56a8.93,8.93,0,0,1-8.93,8.93H250.7a8.93,8.93,0,0,1-8.93-8.93V34.51a8.93,8.93,0,0,1,8.93-8.93h61.39A8.93,8.93,0,0,1,321,34.51Z"/></g></g></svg>
    </button>
  {/if}
  <button on:click={() => isLiveStat.set( true)} class="action-item">
    <svg version="1.1" id="Layer_1" class="sc-gsDKAQ hxODWG icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="117.04px" height="122.88px" viewBox="0 0 117.04 122.88" enable-background="new 0 0 117.04 122.88" xml:space="preserve"><g><path d="M26.864,13.417h56.719c9.176,0,17.53,3.638,23.598,9.497c6.083,5.876,9.859,13.969,9.859,22.86 c0,8.891-3.776,16.983-9.859,22.859c-6.067,5.86-14.422,9.497-23.598,9.497H33.725V78.13h-0.267c-3.566,0-6.795,1.397-9.125,3.648 c-2.313,2.234-3.75,5.329-3.75,8.744s1.437,6.51,3.75,8.745c2.331,2.25,5.56,3.647,9.125,3.647h76.782v19.965H33.458 c-9.176,0-17.53-3.638-23.597-9.497C3.777,107.507,0,99.414,0,90.522c0-8.891,3.777-16.983,9.86-22.859 c6.067-5.86,14.421-9.497,23.597-9.497h48.514v0h1.611c3.566,0,6.795-1.397,9.126-3.648c2.313-2.234,3.75-5.33,3.75-8.744 c0-3.416-1.437-6.51-3.75-8.745c-2.331-2.25-5.56-3.647-9.126-3.647H26.864v13.966L0,24.177L26.864,0V13.417L26.864,13.417z"/></g></svg>
  </button>
  <button
    on:click={() => {
      dialogData = {
        startScreen: "Help",
      };
    }} class="action-item">
    <svg xmlns="http://www.w3.org/2000/svg" class="sc-gsDKAQ hxODWG icon" viewBox="0 0 350 350"><defs></defs><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path class="cls-1" d="M173.53,265.4a18.81,18.81,0,0,1-12.71-4.73c-3.63-3.13-5.43-7.54-5.43-13.17a16.93,16.93,0,0,1,5.26-12.67,17.7,17.7,0,0,1,12.88-5.14,17.54,17.54,0,0,1,17.82,17.81c0,5.54-1.79,9.95-5.39,13.12a18.06,18.06,0,0,1-12.43,4.78M115.28,134.5q0-11.31,7.29-23t21.25-19.29c9.33-5.09,20.17-7.62,32.6-7.62Q193.73,84.6,207,91a49.34,49.34,0,0,1,20.5,17.36,42.71,42.71,0,0,1,7.22,23.89A36.89,36.89,0,0,1,230.6,150a56,56,0,0,1-9.78,13.21c-3.78,3.71-10.6,9.91-20.38,18.67a82.75,82.75,0,0,0-6.52,6.52,24.63,24.63,0,0,0-5.51,9.78q-.67,2.34-1.95,8.2-2.27,12.41-14.23,12.39a14.53,14.53,0,0,1-10.43-4c-2.86-2.73-4.25-6.73-4.25-12.07a42.42,42.42,0,0,1,11.34-30.29q5.13-5.5,13.85-13.17c5.1-4.47,8.77-7.82,11.06-10.1a32.77,32.77,0,0,0,5.74-7.59,18.24,18.24,0,0,0,2.33-9.05,21.17,21.17,0,0,0-7.09-16.14c-4.78-4.36-10.84-6.57-18.36-6.57q-13.14,0-19.36,6.65T146.59,136c-2.73,9-7.87,13.49-15.41,13.49a15.18,15.18,0,0,1-11.3-4.73C116.83,141.55,115.28,138.17,115.28,134.5ZM175,0a175,175,0,1,1-74.31,333.47q5.37-.84,10.62-2a143.17,143.17,0,0,0,44.22-18.32c2.66.38,5.31.68,7.92.89,3.84.32,7.7.48,11.55.48A139.73,139.73,0,1,0,88.92,284.7,105,105,0,0,1,76.31,300a108.48,108.48,0,0,1-12,10.46A175,175,0,0,1,175,0Zm0,54a121,121,0,0,0-68.55,220.65A9.25,9.25,0,0,1,109.16,287,120.9,120.9,0,0,1,89.4,313.06c-1.17,1.18-2.36,2.34-3.58,3.46a134.82,134.82,0,0,0,21.37-3.11,125.08,125.08,0,0,0,41.19-17.68,9.16,9.16,0,0,1,6.62-1.4c3.17.52,6.49.94,10,1.22,3.26.27,6.61.41,10,.41A121,121,0,0,0,175,54Z"/></g></g></svg>
    </button>
</div>

{#if Boolean(dialogData)}
  <CrashInfoDialog  launchConf={dialogData} on:close={() => (dialogData = null)} />
{/if}

<style>
  .game-actions {
    display: flex;
    order: 10;
    -webkit-box-align: center;
    align-items: center;
    height: 4rem;
    position: relative;
  }
  .game-actions::before {
    content: "";
    flex: 1 1 0%;
  }
  .action-item:hover {
    background: rgba(49, 52, 60, 0.35);
  }
  .action-item:hover .icon {
    font-size: 1rem;
    fill: rgb(245, 246, 247);
  }
  .action-item {
    cursor: pointer;
    margin-right: 0.5rem;
    width: 2.75rem;
    height: 2.75rem;
    border-radius: 50%;
    display: flex;
    -webkit-box-align: center;
    align-items: center;
    -webkit-box-pack: center;
    justify-content: center;
  }
  .gJxbeS .action-item .icon {
    fill: rgb(153, 164, 176);
    transition: all 0.3s ease-in-out 0s;
  }

  .hxODWG {
    width: 1.4em;
    height: 1.4em;
    fill: rgba(153, 164, 176, 0.6);
  }
  .game-actions::after {
    content: "";
    position: absolute;
    left: 0px;
    top: 0px;
    right: 0px;
    height: 1px;
    opacity: 0.3;
    background-color: rgb(49, 52, 60);
  }
</style>
